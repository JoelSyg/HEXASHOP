<app-header></app-header>
<div class="wrapper">
  @if (isLoading()) { } @else { @if (item()) {
  <div class="product-container">
    <div class="product-image">
      <img [src]="item()?.image" alt="{{ item()?.name }}" />
    </div>
    <div class="product-details">
      <h1>{{ item()?.name }}</h1>
      <p>Price: {{ item()?.price | currency }}</p>
      <p>{{ item()?.description }}</p>
    </div>

    <div class="size-selection">
      @if (isOneSize()) {
      <p class="onesize-label">Size: One size</p>
      } @else {
      <div class="size-buttons" [class.error]="showSizeError()">
        @for (size of sizes(); track size.name) {
        <button
          (click)="selectSize(size.name)"
          [class.selected]="selectedSize() === size.name"
          [class.unavailable]="!size.available"
        >
          {{ size.name }}
        </button>
        }
      </div>
      @if (showSizeError()) {
      <p class="error-message">Please select a size.</p>
      } }
    </div>

    <div class="actions">
      <button [disabled]="isCartButtonDisabled()" (click)="addItemToCart()">
        Add to Cart
      </button>
    </div>
  </div>
  } @else {
  <p>Item not found. Please check the URL.</p>
  } }
</div>
<app-footer></app-footer>
